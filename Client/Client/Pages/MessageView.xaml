<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
			 xmlns:local="clr-namespace:Client.Views"
             x:Class="Client.MessageView"
			 BackgroundColor="#1d1f1d">
	
	<ContentPage.BindingContext>
		<local:MessageViewModel></local:MessageViewModel>
	</ContentPage.BindingContext>
	<StackLayout>
		<ListView CachingStrategy="RecycleElementAndDataTemplate"  SeparatorColor="#0000" 
				  ItemSelected="MessageList_ItemSelected" x:Name="MessageList"
				  ItemsSource="{Binding Source={x:Static local:MessageViewModel.Messages}}">
			<ListView.ItemTemplate>
				<DataTemplate>
					<ViewCell>
						<StackLayout Orientation="Horizontal">
							<Grid>
								<Grid.RowDefinitions>
									<RowDefinition Height="Auto" />
									<RowDefinition Height="Auto" />
								</Grid.RowDefinitions>
								
								<Frame Grid.Column="{Binding m_Row}" FlowDirection="RightToLeft" HasShadow="false"
									   VerticalOptions="EndAndExpand"
									   CornerRadius="20">
									<Image Aspect="AspectFill" Source="tempavatar.jpg"></Image>
								</Frame>
								<Label Grid.Column="2" Text="{Binding MessageContent}"></Label>
							</Grid>
						</StackLayout>
					</ViewCell>
				</DataTemplate>
			</ListView.ItemTemplate>
		</ListView>
		<Entry Completed="Entry_Completed" Placeholder="Message @"></Entry>
	</StackLayout>
</ContentPage>